"use strict";function isError(t){return t.error!==undefined}jQuery(document).ready((function(t){var e=sgdgRootpathLocalize.root_dir;function o(o){var r="";0<e.length&&(r+='<tr><td class="row-title"><label>..</label></td></tr>');for(var a=0;a<o.directories.length;a++)r+='<tr class="',(0===e.length&&1==a%2||0<e.length&&0==a%2)&&(r+="alternate"),r+='"><td class="row-title"><label data-id="'+o.directories[a].id+'">'+o.directories[a].name+"</label></td></tr>";t("#sgdg_root_selection_body").html(r),r="",0===e.length?r=sgdgRootpathLocalize.drive_list:t("#submit").removeAttr("disabled");for(a=0;a<e.length;a++)0<a&&(r+=" > "),r+='<a data-id="'+e[a]+'">'+o.path[a]+"</a>";t(".sgdg_root_selection_path").html(r),t(".sgdg_root_selection_path a").click((function(){var o;o=t(this).data("id"),e=e.slice(0,e.indexOf(o)+1),i()})),t("#sgdg_root_selection_body label").click((function(){var o;(o=t(this).data("id"))?e.push(o):e.pop(),i()})),t("#sgdg_root_path").val(JSON.stringify(e))}function i(){t("#sgdg_root_selection_body").html(""),t("#submit").attr("disabled","disabled"),t.get(sgdgRootpathLocalize.ajax_url,{_ajax_nonce:sgdgRootpathLocalize.nonce,action:"list_gdrive_dir",path:e},(function(i){if(isError(i))return r=i.error,a='<div class="notice notice-error"><p>'+r+"</p></div>",void t(".sgdg_root_selection").replaceWith(a);var r,a;i.resetWarn&&(e=[],function(e){t('<div class="notice notice-warning"><p>'+e+"</p></div>").insertBefore(".sgdg_root_selection")}(i.resetWarn)),i.directories&&o(i)}))}i()}));