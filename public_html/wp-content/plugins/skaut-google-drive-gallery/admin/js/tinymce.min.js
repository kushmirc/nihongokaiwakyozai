"use strict";function isError(t){return t.error!==undefined}jQuery(document).ready((function(t){var e=[];function i(){var i='<div id="sgdg-tinymce-overflow"><table id="sgdg-tinymce-table" class="widefat"><thead><tr><th class="sgdg-tinymce-path">'+sgdgTinymceLocalize.root_name+'</th></tr></thead><tbody id="sgdg-tinymce-list"></tbody><tfoot><tr><td class="sgdg-tinymce-path">'+sgdgTinymceLocalize.root_name+'</td></tr></tfoot></table></div><div class="sgdg-tinymce-footer"><a id="sgdg-tinymce-insert" class="button button-primary">'+sgdgTinymceLocalize.insert_button+"</a></div>";t("#sgdg-tinymce-modal").html(i),t("#sgdg-tinymce-insert").click((function(){t("#sgdg-tinymce-insert").attr("disabled")||(tinymce.activeEditor.insertContent('[sgdg path="'+e.join("/")+'"]'),tb_remove())}))}function n(){e=e.slice(0,e.indexOf(t(this).data("name"))+1),d()}function a(){var i=t(this).text();".."===i?e.pop():e.push(i),d()}function d(){t("#sgdg-tinymce-list").html(""),t("#sgdg-tinymce-insert").attr("disabled","disabled"),t.get(sgdgTinymceLocalize.ajax_url,{_ajax_nonce:sgdgTinymceLocalize.nonce,action:"list_gallery_dir",path:e},(function(i){var d,c;isError(i)?(d=i.error,c='<div class="notice notice-error"><p>'+d+"</p></div>",t("#TB_ajaxContent").html(c)):function(i){var d="";t("#sgdg-tinymce-insert").removeAttr("disabled"),0<e.length&&(d+='<tr><td class="row-title"><label>..</label></td></tr>');for(var c=0;c<i.length;c++)d+='<tr class="',(0===e.length&&1==c%2||0<e.length&&0==c%2)&&(d+="alternate"),d+='"><td class="row-title"><label>'+i[c]+"</label></td></tr>";for(t("#sgdg-tinymce-list").html(d),d="<a>"+sgdgTinymceLocalize.root_name+"</a>",c=0;c<e.length;c++)d+=' > <a data-name="'+e[c]+'">'+e[c]+"</a>";t(".sgdg-tinymce-path").html(d),t(".sgdg-tinymce-path a").click(n),t("#sgdg-tinymce-list label").click(a)}(i.directories)}))}function c(){i(),tb_show(sgdgTinymceLocalize.dialog_title,"#TB_inline?inlineId=sgdg-tinymce-modal"),e=[],d()}t("#sgdg-tinymce-button").click(c),t("body").append('<div id="sgdg-tinymce-modal"></div>')}));